import{r as s,u as g,j as e}from"./index-CthhI9Wb.js";function y(){const[i,p]=s.useState(""),[d,x]=s.useState(""),[l,n]=s.useState(""),[r,c]=s.useState(!1),u=g(),m=async t=>{t.preventDefault(),c(!0),n("");try{const o=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:d})}),a=await o.json();o.ok&&a.success?(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminToken",a.token),u("/admin")):n(a.error||"فشل تسجيل الدخول")}catch(o){n("حدث خطأ أثناء الاتصال بالخادم."),console.error(o)}finally{c(!1)}};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f0f2f5",padding:"20px"},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"20px",color:"#333"},children:"تسجيل دخول 🔐"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#555"},children:"اسم المستخدم"}),e.jsx("input",{type:"text",value:i,onChange:t=>p(t.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#555"},children:"كلمة المرور "}),e.jsx("input",{type:"password",value:d,onChange:t=>x(t.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),l&&e.jsx("p",{style:{color:"red",fontSize:"0.9rem",textAlign:"center"},children:l}),e.jsx("button",{type:"submit",disabled:r,style:{width:"100%",padding:"12px",backgroundColor:r?"#ccc":"#1877f2",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem",cursor:r?"not-allowed":"pointer"},children:r?"جاري التسجيل...":"دخول"})]})]})})}export{y as default};
