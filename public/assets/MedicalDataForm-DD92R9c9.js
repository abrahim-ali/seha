import{r as n,j as e}from"./index-D3Uf87pi.js";import{H as p,F as b}from"./Footer-bbaPJg-j.js";const N=()=>{const[o,i]=n.useState(""),[d,c]=n.useState(""),[t,s]=n.useState({servicecode:"",idNumber:"",name:"",issueDate:"",startDate:"",endDate:"",duration:"",doctor:"",jobTitle:""}),a=l=>{const{name:r,value:x}=l.target;s(h=>({...h,[r]:x}))},m=async l=>{l.preventDefault();try{(await fetch("/api/medical",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(c("تمت إضافة البيانات بنجاح!"),s({servicecode:"",idNumber:"",name:"",issueDate:"",startDate:"",endDate:"",duration:"",doctor:"",jobTitle:""})):i(data.error||"حدث خطأ أثناء الحفظ.")}catch(r){console.error("Error submitting form:",r),i("فشل الاتصال بالخادم")}},u=()=>{s({servicecode:"",idNumber:"",name:"",issueDate:"",startDate:"",endDate:"",duration:"",doctor:"",jobTitle:""})};return e.jsxs("div",{className:"App",children:[e.jsx(p,{}),e.jsxs("div",{className:"inner-page inquiries-container",style:{paddingTop:"4rem"},children:[e.jsx("h1",{className:"heading",children:"إضافة بيانات جديدة"}),o&&e.jsx("div",{className:"alert alert-danger",children:o}),d&&e.jsx("div",{className:"alert alert-success",children:d}),e.jsxs("form",{onSubmit:m,onReset:u,children:[e.jsx("div",{className:"row justify-content-center mt-1",children:e.jsxs("div",{className:"col-md-5 p-4",children:[e.jsx("div",{className:"form-group",children:e.jsx("input",{type:"text",maxLength:"20",placeholder:"رمز الخدمة",className:"form-control",id:"servicecode",name:"servicecode",value:t.servicecode,onChange:a,required:!0})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{}),e.jsx("input",{type:"text",id:"idNumber",name:"idNumber",maxLength:"10",pattern:"\\d*",placeholder:"رقم الهوية / الإقامة",className:"form-control",value:t.idNumber,onChange:a,required:!0})]})]})}),e.jsx("div",{className:"row justify-content-center mt-1",style:{padding:"2rem"},children:e.jsxs("div",{className:"col-md-5 p-4",style:{backgroundColor:"#f8f9fa",borderRadius:"10px",padding:"1rem"},children:[e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"الاسم:"}),e.jsx("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:"الاسم",value:t.name,onChange:a,required:!0})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"تاريخ الإصدار:"}),e.jsx("input",{type:"date",id:"issueDate",name:"issueDate",className:"form-control",value:t.issueDate,onChange:a,required:!0})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"تبدأ من:"}),e.jsx("input",{type:"date",id:"startDate",name:"startDate",className:"form-control",value:t.startDate,onChange:a,required:!0})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"وحتى:"}),e.jsx("input",{type:"date",id:"endDate",name:"endDate",className:"form-control",value:t.endDate,onChange:a,required:!0})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"المدة:"}),e.jsx("input",{type:"number",id:"duration",name:"duration",className:"form-control",placeholder:"المدة بالأيام",value:t.duration,onChange:a,style:{textAlign:"right"},required:!0})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"اسم الطبيب:"}),e.jsx("input",{type:"text",id:"doctor",name:"doctor",className:"form-control",placeholder:"اسم الطبيب",value:t.doctor,onChange:a,required:!0})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label fw-bold",style:{direction:"rtl"},children:"المسمى الوظيفي:"}),e.jsx("input",{type:"text",id:"jobTitle",name:"jobTitle",className:"form-control",placeholder:"المسمى الوظيفي",value:t.jobTitle,onChange:a,required:!0})]}),e.jsxs("div",{className:"d-flex flex-column align-items-center gap-3 mt-4",children:[e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"250px",borderRadius:"8px",fontSize:"2rem"},children:"إضافة البيانات"}),e.jsx("button",{type:"reset",className:"btn btn-primary",style:{width:"250px",borderRadius:"8px",fontSize:"2rem"},children:"مسح الحقول"})]})]})})]})]}),e.jsx(b,{})]})};export{N as default};
